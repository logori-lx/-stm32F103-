\hypertarget{stm32f10x__i2c_8c}{}\doxysection{src/stm32f10x\+\_\+i2c.c File Reference}
\label{stm32f10x__i2c_8c}\index{src/stm32f10x\_i2c.c@{src/stm32f10x\_i2c.c}}


This file provides all the I2C firmware functions.  


{\ttfamily \#include \char`\"{}stm32f10x\+\_\+i2c.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}stm32f10x\+\_\+rcc.\+h\char`\"{}}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define {\bfseries C\+R1\+\_\+\+P\+E\+\_\+\+Set}~((uint16\+\_\+t)0x0001)
\item 
\#define {\bfseries C\+R1\+\_\+\+P\+E\+\_\+\+Reset}~((uint16\+\_\+t)0x\+F\+F\+FE)
\item 
\#define {\bfseries C\+R1\+\_\+\+S\+T\+A\+R\+T\+\_\+\+Set}~((uint16\+\_\+t)0x0100)
\item 
\#define {\bfseries C\+R1\+\_\+\+S\+T\+A\+R\+T\+\_\+\+Reset}~((uint16\+\_\+t)0x\+F\+E\+FF)
\item 
\#define {\bfseries C\+R1\+\_\+\+S\+T\+O\+P\+\_\+\+Set}~((uint16\+\_\+t)0x0200)
\item 
\#define {\bfseries C\+R1\+\_\+\+S\+T\+O\+P\+\_\+\+Reset}~((uint16\+\_\+t)0x\+F\+D\+FF)
\item 
\#define {\bfseries C\+R1\+\_\+\+A\+C\+K\+\_\+\+Set}~((uint16\+\_\+t)0x0400)
\item 
\#define {\bfseries C\+R1\+\_\+\+A\+C\+K\+\_\+\+Reset}~((uint16\+\_\+t)0x\+F\+B\+FF)
\item 
\#define {\bfseries C\+R1\+\_\+\+E\+N\+G\+C\+\_\+\+Set}~((uint16\+\_\+t)0x0040)
\item 
\#define {\bfseries C\+R1\+\_\+\+E\+N\+G\+C\+\_\+\+Reset}~((uint16\+\_\+t)0x\+F\+F\+BF)
\item 
\#define {\bfseries C\+R1\+\_\+\+S\+W\+R\+S\+T\+\_\+\+Set}~((uint16\+\_\+t)0x8000)
\item 
\#define {\bfseries C\+R1\+\_\+\+S\+W\+R\+S\+T\+\_\+\+Reset}~((uint16\+\_\+t)0x7\+F\+FF)
\item 
\#define {\bfseries C\+R1\+\_\+\+P\+E\+C\+\_\+\+Set}~((uint16\+\_\+t)0x1000)
\item 
\#define {\bfseries C\+R1\+\_\+\+P\+E\+C\+\_\+\+Reset}~((uint16\+\_\+t)0x\+E\+F\+FF)
\item 
\#define {\bfseries C\+R1\+\_\+\+E\+N\+P\+E\+C\+\_\+\+Set}~((uint16\+\_\+t)0x0020)
\item 
\#define {\bfseries C\+R1\+\_\+\+E\+N\+P\+E\+C\+\_\+\+Reset}~((uint16\+\_\+t)0x\+F\+F\+DF)
\item 
\#define {\bfseries C\+R1\+\_\+\+E\+N\+A\+R\+P\+\_\+\+Set}~((uint16\+\_\+t)0x0010)
\item 
\#define {\bfseries C\+R1\+\_\+\+E\+N\+A\+R\+P\+\_\+\+Reset}~((uint16\+\_\+t)0x\+F\+F\+EF)
\item 
\#define {\bfseries C\+R1\+\_\+\+N\+O\+S\+T\+R\+E\+T\+C\+H\+\_\+\+Set}~((uint16\+\_\+t)0x0080)
\item 
\#define {\bfseries C\+R1\+\_\+\+N\+O\+S\+T\+R\+E\+T\+C\+H\+\_\+\+Reset}~((uint16\+\_\+t)0x\+F\+F7F)
\item 
\#define {\bfseries C\+R1\+\_\+\+C\+L\+E\+A\+R\+\_\+\+Mask}~((uint16\+\_\+t)0x\+F\+B\+F5)
\item 
\#define {\bfseries C\+R2\+\_\+\+D\+M\+A\+E\+N\+\_\+\+Set}~((uint16\+\_\+t)0x0800)
\item 
\#define {\bfseries C\+R2\+\_\+\+D\+M\+A\+E\+N\+\_\+\+Reset}~((uint16\+\_\+t)0x\+F7\+FF)
\item 
\#define {\bfseries C\+R2\+\_\+\+L\+A\+S\+T\+\_\+\+Set}~((uint16\+\_\+t)0x1000)
\item 
\#define {\bfseries C\+R2\+\_\+\+L\+A\+S\+T\+\_\+\+Reset}~((uint16\+\_\+t)0x\+E\+F\+FF)
\item 
\#define {\bfseries C\+R2\+\_\+\+F\+R\+E\+Q\+\_\+\+Reset}~((uint16\+\_\+t)0x\+F\+F\+C0)
\item 
\#define {\bfseries O\+A\+R1\+\_\+\+A\+D\+D0\+\_\+\+Set}~((uint16\+\_\+t)0x0001)
\item 
\#define {\bfseries O\+A\+R1\+\_\+\+A\+D\+D0\+\_\+\+Reset}~((uint16\+\_\+t)0x\+F\+F\+FE)
\item 
\#define {\bfseries O\+A\+R2\+\_\+\+E\+N\+D\+U\+A\+L\+\_\+\+Set}~((uint16\+\_\+t)0x0001)
\item 
\#define {\bfseries O\+A\+R2\+\_\+\+E\+N\+D\+U\+A\+L\+\_\+\+Reset}~((uint16\+\_\+t)0x\+F\+F\+FE)
\item 
\#define {\bfseries O\+A\+R2\+\_\+\+A\+D\+D2\+\_\+\+Reset}~((uint16\+\_\+t)0x\+F\+F01)
\item 
\#define {\bfseries C\+C\+R\+\_\+\+F\+S\+\_\+\+Set}~((uint16\+\_\+t)0x8000)
\item 
\#define {\bfseries C\+C\+R\+\_\+\+C\+C\+R\+\_\+\+Set}~((uint16\+\_\+t)0x0\+F\+FF)
\item 
\#define {\bfseries F\+L\+A\+G\+\_\+\+Mask}~((uint32\+\_\+t)0x00\+F\+F\+F\+F\+FF)
\item 
\#define {\bfseries I\+T\+E\+N\+\_\+\+Mask}~((uint32\+\_\+t)0x07000000)
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{group___i2_c___private___functions_ga2ee214364603059ad5d9089f749f5bfd}{I2\+C\+\_\+\+De\+Init}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx)
\begin{DoxyCompactList}\small\item\em Deinitializes the I2\+Cx peripheral registers to their default reset values. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_gaac29465bca70fbc91c2f922ab67bb88e}{I2\+C\+\_\+\+Init}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, \mbox{\hyperlink{struct_i2_c___init_type_def}{I2\+C\+\_\+\+Init\+Type\+Def}} $\ast$I2\+C\+\_\+\+Init\+Struct)
\begin{DoxyCompactList}\small\item\em Initializes the I2\+Cx peripheral according to the specified parameters in the I2\+C\+\_\+\+Init\+Struct. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_ga08582aca6d7d7910cd5cbff0d9def350}{I2\+C\+\_\+\+Struct\+Init}} (\mbox{\hyperlink{struct_i2_c___init_type_def}{I2\+C\+\_\+\+Init\+Type\+Def}} $\ast$I2\+C\+\_\+\+Init\+Struct)
\begin{DoxyCompactList}\small\item\em Fills each I2\+C\+\_\+\+Init\+Struct member with its default value. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_ga7e1323c9133c2cb424dfb5b10b7d2f0b}{I2\+C\+\_\+\+Cmd}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, Functional\+State New\+State)
\begin{DoxyCompactList}\small\item\em Enables or disables the specified I2C peripheral. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_ga38502ce11e5ec923e0f6476aaa35b45c}{I2\+C\+\_\+\+D\+M\+A\+Cmd}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, Functional\+State New\+State)
\begin{DoxyCompactList}\small\item\em Enables or disables the specified I2C D\+MA requests. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_gab2e994c5681eb6ec7c26a03ffe1de060}{I2\+C\+\_\+\+D\+M\+A\+Last\+Transfer\+Cmd}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, Functional\+State New\+State)
\begin{DoxyCompactList}\small\item\em Specifies if the next D\+MA transfer will be the last one. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_ga36c522b471588be9779c878222ccb20f}{I2\+C\+\_\+\+Generate\+S\+T\+A\+RT}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, Functional\+State New\+State)
\begin{DoxyCompactList}\small\item\em Generates I2\+Cx communication S\+T\+A\+RT condition. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_ga5c92cb573ca0ae58cc465e5400246561}{I2\+C\+\_\+\+Generate\+S\+T\+OP}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, Functional\+State New\+State)
\begin{DoxyCompactList}\small\item\em Generates I2\+Cx communication S\+T\+OP condition. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_ga7bb44e894d68a7991f564c43fb187486}{I2\+C\+\_\+\+Acknowledge\+Config}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, Functional\+State New\+State)
\begin{DoxyCompactList}\small\item\em Enables or disables the specified I2C acknowledge feature. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_ga7be2cc634a613c8e3539137e897a22df}{I2\+C\+\_\+\+Own\+Address2\+Config}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, uint8\+\_\+t Address)
\begin{DoxyCompactList}\small\item\em Configures the specified I2C own address2. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_ga02145a333a56e79557d6ef4ea03fc313}{I2\+C\+\_\+\+Dual\+Address\+Cmd}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, Functional\+State New\+State)
\begin{DoxyCompactList}\small\item\em Enables or disables the specified I2C dual addressing mode. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_ga65c740fc8d7b3b9f15cc432d8699d471}{I2\+C\+\_\+\+General\+Call\+Cmd}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, Functional\+State New\+State)
\begin{DoxyCompactList}\small\item\em Enables or disables the specified I2C general call feature. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_ga58fed146a06cb81d2940604e460de047}{I2\+C\+\_\+\+I\+T\+Config}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, uint16\+\_\+t I2\+C\+\_\+\+IT, Functional\+State New\+State)
\begin{DoxyCompactList}\small\item\em Enables or disables the specified I2C interrupts. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_ga7bd9e70b8eafde0dd5eb42b0d95fe1a9}{I2\+C\+\_\+\+Send\+Data}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, uint8\+\_\+t Data)
\begin{DoxyCompactList}\small\item\em Sends a data byte through the I2\+Cx peripheral. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{group___i2_c___private___functions_gaeaaa4b6f77f50eb57465148c55d27fb2}{I2\+C\+\_\+\+Receive\+Data}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx)
\begin{DoxyCompactList}\small\item\em Returns the most recent received data by the I2\+Cx peripheral. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_ga009fc2a5b2313c36da39ece39a1156a6}{I2\+C\+\_\+\+Send7bit\+Address}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, uint8\+\_\+t Address, uint8\+\_\+t I2\+C\+\_\+\+Direction)
\begin{DoxyCompactList}\small\item\em Transmits the address byte to select the slave device. \end{DoxyCompactList}\item 
uint16\+\_\+t \mbox{\hyperlink{group___i2_c___private___functions_ga8021dc796d15f997356b0583d6346805}{I2\+C\+\_\+\+Read\+Register}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, uint8\+\_\+t I2\+C\+\_\+\+Register)
\begin{DoxyCompactList}\small\item\em Reads the specified I2C register and returns its value. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_ga1289c908aeb882443aba323b459c638b}{I2\+C\+\_\+\+Software\+Reset\+Cmd}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, Functional\+State New\+State)
\begin{DoxyCompactList}\small\item\em Enables or disables the specified I2C software reset. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_gad08ebffc3a234d84e6405ec115bd74f1}{I2\+C\+\_\+\+N\+A\+C\+K\+Position\+Config}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, uint16\+\_\+t I2\+C\+\_\+\+N\+A\+C\+K\+Position)
\begin{DoxyCompactList}\small\item\em Selects the specified I2C N\+A\+CK position in master receiver mode. This function is useful in I2C Master Receiver mode when the number of data to be received is equal to 2. In this case, this function should be called (with parameter I2\+C\+\_\+\+N\+A\+C\+K\+Position\+\_\+\+Next) before data reception starts,as described in the 2-\/byte reception procedure recommended in Reference Manual in Section\+: Master receiver. ~\newline
 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_ga75a810776d9710d2f6d9c5d9e93241c6}{I2\+C\+\_\+\+S\+M\+Bus\+Alert\+Config}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, uint16\+\_\+t I2\+C\+\_\+\+S\+M\+Bus\+Alert)
\begin{DoxyCompactList}\small\item\em Drives the S\+M\+Bus\+Alert pin high or low for the specified I2C. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_gaa27d1440290fe601e730b6980999afe3}{I2\+C\+\_\+\+Transmit\+P\+EC}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, Functional\+State New\+State)
\begin{DoxyCompactList}\small\item\em Enables or disables the specified I2C P\+EC transfer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_ga5d0f939bdd45542502827bf408f24161}{I2\+C\+\_\+\+P\+E\+C\+Position\+Config}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, uint16\+\_\+t I2\+C\+\_\+\+P\+E\+C\+Position)
\begin{DoxyCompactList}\small\item\em Selects the specified I2C P\+EC position. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_gae86801251359226c35745e0a258388b0}{I2\+C\+\_\+\+Calculate\+P\+EC}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, Functional\+State New\+State)
\begin{DoxyCompactList}\small\item\em Enables or disables the P\+EC value calculation of the transferred bytes. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{group___i2_c___private___functions_ga7bf75e7c27c0e1d73e70fc0e1c7cd1dd}{I2\+C\+\_\+\+Get\+P\+EC}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx)
\begin{DoxyCompactList}\small\item\em Returns the P\+EC value for the specified I2C. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_ga66d86742bf1be58b17ef8779ffc79d02}{I2\+C\+\_\+\+A\+R\+P\+Cmd}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, Functional\+State New\+State)
\begin{DoxyCompactList}\small\item\em Enables or disables the specified I2C A\+RP. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_ga7459feb3b1dfcd3e4f6574002ca7d3bd}{I2\+C\+\_\+\+Stretch\+Clock\+Cmd}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, Functional\+State New\+State)
\begin{DoxyCompactList}\small\item\em Enables or disables the specified I2C Clock stretching. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_gaa570f76bc34e5b0531b29b1a90af1275}{I2\+C\+\_\+\+Fast\+Mode\+Duty\+Cycle\+Config}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, uint16\+\_\+t I2\+C\+\_\+\+Duty\+Cycle)
\begin{DoxyCompactList}\small\item\em Selects the specified I2C fast mode duty cycle. \end{DoxyCompactList}\item 
Error\+Status \mbox{\hyperlink{group___i2_c___private___functions_ga2d5701342f9d4c1f09bf9d3cdcacc326}{I2\+C\+\_\+\+Check\+Event}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, uint32\+\_\+t I2\+C\+\_\+\+E\+V\+E\+NT)
\begin{DoxyCompactList}\small\item\em I2C State Monitoring Functions. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{group___i2_c___private___functions_ga29237aea9b5a3ead33167e1d027e9f1a}{I2\+C\+\_\+\+Get\+Last\+Event}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx)
\begin{DoxyCompactList}\small\item\em Returns the last I2\+Cx Event. \end{DoxyCompactList}\item 
Flag\+Status \mbox{\hyperlink{group___i2_c___private___functions_ga15c95d0ed124f029621a2061b1677ee7}{I2\+C\+\_\+\+Get\+Flag\+Status}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, uint32\+\_\+t I2\+C\+\_\+\+F\+L\+AG)
\begin{DoxyCompactList}\small\item\em Checks whether the specified I2C flag is set or not. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_ga9d4f8fe9f7232696114b5578b1223963}{I2\+C\+\_\+\+Clear\+Flag}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, uint32\+\_\+t I2\+C\+\_\+\+F\+L\+AG)
\begin{DoxyCompactList}\small\item\em Clears the I2\+Cx\textquotesingle{}s pending flags. \end{DoxyCompactList}\item 
I\+T\+Status \mbox{\hyperlink{group___i2_c___private___functions_ga447771fbbd94a56f3570b9f430a069ba}{I2\+C\+\_\+\+Get\+I\+T\+Status}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, uint32\+\_\+t I2\+C\+\_\+\+IT)
\begin{DoxyCompactList}\small\item\em Checks whether the specified I2C interrupt has occurred or not. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___i2_c___private___functions_ga110dda440fa200b5f77349df19b3e6bb}{I2\+C\+\_\+\+Clear\+I\+T\+Pending\+Bit}} (I2\+C\+\_\+\+Type\+Def $\ast$I2\+Cx, uint32\+\_\+t I2\+C\+\_\+\+IT)
\begin{DoxyCompactList}\small\item\em Clears the I2\+Cx’s interrupt pending bits. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This file provides all the I2C firmware functions. 

\begin{DoxyAuthor}{Author}
M\+CD Application Team 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
V3.\+5.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
11-\/March-\/2011
\end{DoxyDate}
\begin{DoxyAttention}{Attention}

\end{DoxyAttention}
T\+HE P\+R\+E\+S\+E\+NT F\+I\+R\+M\+W\+A\+RE W\+H\+I\+CH IS F\+OR G\+U\+I\+D\+A\+N\+CE O\+N\+LY A\+I\+MS AT P\+R\+O\+V\+I\+D\+I\+NG C\+U\+S\+T\+O\+M\+E\+RS W\+I\+TH C\+O\+D\+I\+NG I\+N\+F\+O\+R\+M\+A\+T\+I\+ON R\+E\+G\+A\+R\+D\+I\+NG T\+H\+E\+IR P\+R\+O\+D\+U\+C\+TS IN O\+R\+D\+ER F\+OR T\+H\+EM TO S\+A\+VE T\+I\+ME. AS A R\+E\+S\+U\+LT, S\+T\+M\+I\+C\+R\+O\+E\+L\+E\+C\+T\+R\+O\+N\+I\+CS S\+H\+A\+LL N\+OT BE H\+E\+LD L\+I\+A\+B\+LE F\+OR A\+NY D\+I\+R\+E\+CT, I\+N\+D\+I\+R\+E\+CT OR C\+O\+N\+S\+E\+Q\+U\+E\+N\+T\+I\+AL D\+A\+M\+A\+G\+ES W\+I\+TH R\+E\+S\+P\+E\+CT TO A\+NY C\+L\+A\+I\+MS A\+R\+I\+S\+I\+NG F\+R\+OM T\+HE C\+O\+N\+T\+E\+NT OF S\+U\+CH F\+I\+R\+M\+W\+A\+RE A\+N\+D/\+OR T\+HE U\+SE M\+A\+DE BY C\+U\+S\+T\+O\+M\+E\+RS OF T\+HE C\+O\+D\+I\+NG I\+N\+F\+O\+R\+M\+A\+T\+I\+ON C\+O\+N\+T\+A\+I\+N\+ED H\+E\+R\+E\+IN IN C\+O\+N\+N\+E\+C\+T\+I\+ON W\+I\+TH T\+H\+E\+IR P\+R\+O\+D\+U\+C\+TS.

\doxysubsubsection*{\begin{center}\copyright{} C\+O\+P\+Y\+R\+I\+G\+HT 2011 S\+T\+Microelectronics\end{center} }